<div class="daily-climatologies">
  <section class="header-section">
    <div class="container">
      <div class="row">
        <div class="body-header">
          <a href="http://www.aemet.es" target="new"
            ><img src="./assets/img/logo_AEMET_web.gif"
          /></a>
          <img src="./assets/img/logo_opendata_p.gif" />
          <h1 class="text-left">AEMET <span>Visual-WEB</span> OpenData</h1>
          <h2 class="text-left">
            Sistema para la visualización y reutilización de la información de
            AEMET
          </h2>
        </div>
      </div>
    </div>
  </section>
  <div class="container">
    <ng-container *ngIf="sectionOPC11 && !sectionOPCResponse11">
      <div class="row">
        <h1 class="text-left">{{ selectedTitle }}</h1>
        <h4>{{ selectedSubtitle }}</h4>
        <div class="search-box">
          <p class="date_daily-climatologies">Fecha Inicial</p>
          <div class="row">
            <input
              class="selectorDate"
              type="datetime-local"
              [(ngModel)]="selectedDate"
              id="dateInput"
            />
          </div>
          <p class="date_daily-climatologies">Fecha Final</p>
          <div class="row">
            <input
              class="selectorDate"
              type="datetime-local"
              [(ngModel)]="selectedDate2"
              id="dateInput2"
            />
          </div>
          <p class="date_daily-climatologies">Provincia</p>

          <div class="btnDiv">
            <button type="button" class="btn-search" (click)="callToApiOPC11()">
              Continuar
            </button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="sectionOPC12 && !sectionOPCResponse12">
      <div class="row">
        <h1 class="text-left">{{ selectedTitle }}</h1>
        <h4>{{ selectedSubtitle }}</h4>
        <div class="search-box">
          <p class="date_daily-climatologies">Fecha Inicial</p>
          <div class="row">
            <input
              class="selectorDate"
              type="datetime-local"
              [(ngModel)]="selectedDate"
              id="dateInput"
            />
          </div>
          <p class="date_daily-climatologies">Fecha Final</p>
          <div class="row">
            <input
              class="selectorDate"
              type="datetime-local"
              [(ngModel)]="selectedDate2"
              id="dateInput2"
            />
          </div>
          <div class="btnDiv">
            <button type="button" class="btn-search" (click)="callToApiOPC12()">
              Continuar
            </button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="sectionOPC13 && !sectionOPCResponse13">
      <div class="row">
        <h1 class="text-left">{{ selectedTitle }}</h1>
        <h4>{{ selectedSubtitle }}</h4>
        <div class="search-box">
          <p class="date_daily-climatologies">
            Listado de indicativos climatológicos:
          </p>
          <div class="row">
            <select
              id="tipoMensa"
              class="form-control"
              [(ngModel)]="selectedIndicator"
            >
              <option
                *ngFor="let tipo of climaticValuesLoaded"
                [value]="tipo.indicativo"
              >
                {{ tipo.nombre }}
              </option>
            </select>
          </div>
          <div class="btnDiv">
            <button type="button" class="btn-search" (click)="callToApiOPC13()">
              Continuar
            </button>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="sectionOPC13 && sectionOPCResponse13">
      <div class="search-box climatic-data2" *ngFor="let dato of selectedIndicatorResponseApi">
        <h4>Datos de la ubicación: <br>{{ dato.nombre }}</h4>
        <p>Provincia: {{ dato.provincia }}</p>
        <p>Indicativo: {{ dato.indicativo }}</p>
        <p>Latitud: {{ dato.latitud }} º</p>
        <p>Altitud: {{ dato.altitud }} m</p>
      </div>
    </ng-container>
    <!-- <ng-container *ngIf="sectionOPC14 && !sectionOPCResponse14">
      <div class="row">
        <h1 class="text-left">{{ selectedTitle }}</h1>
        <h4>{{ selectedSubtitle }}</h4>
        <div class="search-box">
          <p class="date_daily-climatologies">Hemos tenido algún tipo de problema y no hemos recibido respuesta desde la API de AEMET. Vuelva a intentarlo pasado unos minutos. Gracias! </p>
        </div>
      </div>
    </ng-container> -->
    <ng-container *ngIf="sectionOPC14 && sectionOPCResponse14">
      <div class="row">
        <button class="btn btnBack mx-auto" (click)="goBack()">
          Volver atrás
        </button>
      </div>
      <div class="row">
        <h1 class="text-left">{{ selectedTitle }}</h1>
        <h4>{{ selectedSubtitle }}</h4>
        <div class="search">
          <div class="row">
            <div class="col-sm-4" *ngFor="let value of climaticValues">
              <div class="search-box climatic-data">
                <p>Provincia: {{ value.provincia }}</p>
                <p>Ubicación: {{ value.nombre }}</p>
                <p>Indicativo: {{ value.indicativo }}</p>
                <p>Latitud: {{ value.latitud }} º</p>
                <p>Altitud: {{ value.altitud }} m</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
    <div class="row">
      <!-- Agrega el botón de vuelta atrás -->
      <button class="btn btnBack mx-auto" (click)="goBack()">
        Volver atrás
      </button>
    </div>
  </div>
</div>
